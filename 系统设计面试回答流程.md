## 系统设计面试回答流程

### 步骤 1：明确需求

*   **与面试官交流：** 仔细聆听面试官的问题，如有疑问及时提问，确保你完全理解了需求。没人期望你在30-45分钟内设计一个完整的系统，讨论功能，与面试官就重点关注的组件达成一致
*   **确定范围：** 搞清楚系统需要实现哪些核心功能，哪些功能是可选的或稍后可以添加的。
*   **用户场景：** 考虑用户如何与系统互动，例如流量规模（例如，每日活跃用户数）

### 步骤 2：容量估算

*   **流量预估：** 估算系统的日活用户量、请求量、数据存储量等。
*   **资源需求：** 根据流量预估，计算所需的服务器数量、带宽、存储空间等。
*   **指标：** 确定系统的性能指标，例如响应时间、吞吐量等。

### 步骤 3：系统 API 设计

*   定义系统对外提供的接口，例如上传文件、下载文件、同步文件的 API

### 步骤 3：高层次设计

*   **架构图：** 绘制系统的高层次架构图，包括核心组件、模块以及它们之间的关系。
*   **技术选型：** 选择合适的技术栈，例如编程语言、数据库、缓存、消息队列等。
*   **核心模块：** 描述核心模块的功能和设计思路。

### 步骤 4：详细组件设计

*   **组件拆分：** 将高层次设计中的组件进一步拆分成更小的、可独立部署的模块。
*   **接口定义：** 定义模块之间的接口和数据交互格式。
*   **数据结构：** 设计合适的数据结构来存储和处理数据。

### 步骤 5：容错性 & 可扩展性

*   **容错设计：** 考虑系统可能出现的故障，例如服务器宕机、网络中断等，并设计相应的容错机制。
*   **扩展方案：** 设计系统的扩展方案，以应对未来的流量增长和功能扩展。
*   **伸缩性：** 考虑如何通过增加资源来提高系统的性能。

### 步骤 6：延伸话题

*   **安全：** 讨论系统的安全性，例如如何防止恶意攻击、保护用户数据等。
*   **监控：** 考虑如何监控系统的运行状态，例如收集哪些指标、如何设置告警等。
*   **日志：** 讨论如何收集和分析日志，以便排查问题和优化系统。
